// basecondition ~ less-framework ~ v3.2
// copyright 2014 ~ Joachim Doerr ~ hello@basecondition.com
// licensed under MIT or GPLv3 ~ git.io/OJYZgw

// ----------------------------------------------------- ~ form
// #form > .placeholder(#ccc);
// #form > .shorthand(12px, normal, 1.4em);
// #form > .input(13px, 1.4em, 20px, ~"1px solid #ddd", @base-form-input-shadow, 2px, 100%, 0.2, 0.4, 0.75);
// #form > .input-focus(#ccc);

// @var-namespace: #font

#form {
    
    // @methode: .placeholder
    // @usage: #form > .placeholder(#ccc);
    
    .placeholder(@var) {
        .inception(@var) when (iscolor(@var)){
            &:-moz-placeholder {
                color: @var;
            }
            &::-moz-placeholder {
                color: @var;
            }
            &:-ms-input-placeholder {
                color: @var;
            }
            &::-webkit-input-placeholder {
                color: @var;
            }
        }
        .inception(@var);
    }
    
    // @methode: .shorthand
    // @usage: #form > .shorthand(12px, normal, 1.4em);
    
    .shorthand(@var-size: @base-font-size, @var-weight: normal, @var-line-height: @base-line-height) {
        label,
        input,
        button,
        select,
        textarea {
            #font > .shorthand(@var-size, @var-weight, @var-line-height);
        }
    }
    
    // @methode: .input
    // @usage: #form > .input(13px, 1.4em, 20px, ~"1px solid #ddd", @base-form-input-shadow, 2px, 100%, 0.2, 0.4, 0.75);
    
    .input(@var-size: @base-font-size, @var-line-height: @base-line-height, @var-distance: @base-distance, @var-border: @base-form-input-border, @var-shadow: @base-form-input-shadow, @var-radius: @base-form-input-radius, @var-width: 100%, @var-padding-top-bottom-factor: 0.2, @var-padding-left-right-factor: 0.4, @var-margin-bottom-factor: 0.75) {
        #box > .display(inline-block);
        #box > .shadow(@var-shadow);
        #box > .sizing(border-box);
        #border > .radius(@var-radius);
        font-size: @var-size;
        line-height: @var-line-height;
        width: @var-width;
        border: @var-border;
        padding: ceil(@var-distance * @var-padding-top-bottom-factor) ceil(@var-distance * @var-padding-left-right-factor);
        margin: 0 0 ceil(@var-distance * @var-margin-bottom-factor) 0;
        vertical-align: middle;
    }
    
    // @methode: .input-color
    // @usage: #form > .input-color(#888);
    .input-color(@var-color) {
        color: @var-color;
    }
    
    // @methode: .input-focus-color
    // @usage: #form > .input-focus-color(#000);
    .input-focus-color(@var-color) {
        &:focus {
            color: @var-color;
        }
    }
    
    // @methode: .input-focus-border
    // @usage: #form > .input-focus-border(#ccc);
    
    .input-focus-border(@var-border: @base-form-input-border-focus) {
        &:focus {
            border-color: @var-border;
        }
    }
    
    // @methode: .input-focus
    // @usage: #form > .input-focus(#000, #ccc);
    
    .input-focus(@var-color: #000, @var-border: @base-form-input-border-focus) {
        #form > .input-focus-border(@var-border);
        #form > .input-focus-color(@var-color);
    }
}