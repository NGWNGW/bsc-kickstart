// basecondition ~ less-framework ~ v3.2
// copyright 2014 ~ Joachim Doerr ~ hello@basecondition.com
// licensed under MIT or GPLv3 ~ git.io/OJYZgw

// ----------------------------------------------------- ~ animation
// #animation > .animation(~"my-animation 6s backwards 2s, my-second-animation 3s linear alternate infinite");
// #animation > .delay(~"200ms, 2s");
// #animation > .direction(~"normal, alternate");
// #animation > .duration(~"3s, 2s");
// #animation > .fill-mode(forwards);
// #animation > .timing-function(ease-in-out);
// #animation > .iteration-count(3);
// #animation > .name(myanimation);
// #animation > .play-state(paused);

// @helper methode: ../elements/helper.less
// @usage: .animation(~"my-animation 6s backwards 2s, my-second-animation 3s linear alternate infinite");

// @namespace: #animation

#animation {
    
    // @methode: .animation
    // @usage: #animation > .animation(~"my-animation 6s backwards 2s, my-second-animation 3s linear alternate infinite");
    
    .animation(@var) {
        .inception(@var) when (isstring(@var)) {
            -webkit-animation: @var;
               -moz-animation: @var;
                -ms-animation: @var;
                 -o-animation: @var;
                    animation: @var;
        }
        .inception(@var);
    }
    
    // @methode: .delay
    // @usage: #animation > .delay(2s);
    
    .delay(@var) {
        .inception(@var) when (isnumber(@var)) {
            -webkit-animation-delay: @var;
               -moz-animation-delay: @var;
                -ms-animation-delay: @var;
                 -o-animation-delay: @var;
                    animation-delay: @var;
        }
        .inception(@var);
    }
    
    // @methode: .direction
    // @usage: #animation > .direction(~"normal, alternate");
    
    .direction(@var) {
        .inception(@var) when (isstring(@var)) {
            -webkit-animation-direction: @var;
               -moz-animation-direction: @var;
                -ms-animation-direction: @var;
                 -o-animation-direction: @var;
                    animation-direction: @var;
        }
        .inception(@var);
    }
    
    // @methode: .duration
    // @usage: #animation > .duration(~"3s, 2s");
    
    .duration(@var) {
        .inception(@var) when (isstring(@var)) {
            -webkit-animation-duration: @var;
               -moz-animation-duration: @var;
                -ms-animation-duration: @var;
                 -o-animation-duration: @var;
                    animation-duration: @var;
        }
        .inception(@var);
    }
    
    // @methode: .fill-mode
    // @usage: #animation > .fill-mode(forwards); // none|forwards|backwards|both
    
    .fill-mode(@var: none) {
        .inception(@var) {
            -webkit-animation-fill-mode: @var;
               -moz-animation-fill-mode: @var;
                 -o-animation-fill-mode: @var;
                    animation-fill-mode: @var;
        }
        .inception-call(@var) when (@var = none) {
            .inception(@var);
        }
        .inception-call(@var) when (@var = forwards) {
            .inception(@var);
        }
        .inception-call(@var) when (@var = backwards) {
            .inception(@var);
        }
        .inception-call(@var) when (@var = both) {
            .inception(@var);
        }
        .inception-call(@var);
    }
    
    // @methode: .timing-function
    // @usage: #animation > .timing-function(ease-in-out); linear|ease-in-out|ease-in|ease-out|ease|cubic-bezier(n,n,n,n)
    
    .timing-function(@var: linear) {
        .inception(@var) {
            -webkit-animation-timing-function: @var;
               -moz-animation-timing-function: @var;
                -ms-animation-timing-function: @var;
                 -o-animation-timing-function: @var;
                    animation-timing-function: @var;
        }
        .inception-call(@var) when (@var = linear) {
            .inception(@var);
        }
        .inception-call(@var) when (@var = ease-in-out) {
            .inception(@var);
        }
        .inception-call(@var) when (@var = ease-in) {
            .inception(@var);
        }
        .inception-call(@var) when (@var = ease-out) {
            .inception(@var);
        }
        .inception-call(@var) when (@var = ease) {
            .inception(@var);
        }
        .inception-call(@var) when (isstring(@var)) {
            .inception(@var);
        }
        .inception-call(@var);
    }
    
    // @methode: .iteration-count
    // @usage: #animation > .iteration-count(3);
    
    .iteration-count(@var) {
        .inception(@var) when (isnumber(@var)) {
            -webkit-animation-iteration-count: @var;
               -moz-animation-iteration-count: @var;
                -ms-animation-iteration-count: @var;
                 -o-animation-iteration-count: @var;
                    animation-iteration-count: @var;
        }
        .inception(@var);
    }
    
    // @methode: .name
    // @usage: #animation > .name(myanimation);
    
    .name(@var) {
        .inception(@var) when not (isurl(@var)) {
            -webkit-animation-name: @var;
               -moz-animation-name: @var;
                -ms-animation-name: @var;
                 -o-animation-name: @var;
                    animation-name: @var;
        }
        .inception(@var);
    }
    
    // @methode: .play-state
    // @usage: #animation > .play-state(paused); running|paused
    
    .play-state(@var) {
        .inception(@var) {
            -webkit-animation-play-state: @var;
               -moz-animation-play-state: @var;
                -ms-animation-play-state: @var;
                 -o-animation-play-state: @var;
                    animation-play-state: @var;
        }
        .inception-call(@var) when (@var = running) {
            .inception(@var);
        }
        .inception-call(@var) when (@var = paused) {
            .inception(@var);
        }
        .inception-call(@var);
    }
    
    // @methode: .play-state
    // @usage: #animation > .backface-visibility(hidden); // visible|hidden
    
    .backface-visibility(@var) {
        #base > .backface-visibility(@var);
    }
}